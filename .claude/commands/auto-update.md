---
description: 智能检测项目变更并自动更新相关文档
allowed-tools: ["Read", "Write", "Glob", "Grep", "Bash"]
---

智能分析最近的 Git 提交变更，并根据变更类型自动更新项目文档：

1. **分析最近提交**：
   - 获取最近 5 次提交的变更文件列表
   - 分类变更类型（配置、架构、功能、依赖等）

2. **智能触发更新**：
   - 如果检测到 package.json 变更 → 更新依赖和脚本信息
   - 如果检测到 src/ 结构变更 → 更新架构文档
   - 如果检测到 config/ 变更 → 更新配置说明
   - 如果检测到新的组件或路由 → 更新功能描述

3. **生成变更摘要**：
   - 总结主要变更内容
   - 识别新增的重要功能
   - 检测废弃的功能或配置

4. **保持文档同步**：
   - 自动更新 CLAUDE.md 的相关部分
   - 保持开发命令的准确性
   - 确保架构描述与代码一致

使用方式：在代码变更后运行此命令，会自动分析变更并更新相应文档。